diff -uNr courier-imap-5.0.10/libs/rfc1035/rfc1035udp.c courier-imap-5.0.10-patched/libs/rfc1035/rfc1035udp.c
--- courier-imap-5.0.10/libs/rfc1035/rfc1035udp.c	2020-04-08 11:00:04.000000000 +0200
+++ courier-imap-5.0.10-patched/libs/rfc1035/rfc1035udp.c	2020-04-26 16:08:30.291501302 +0200
@@ -69,13 +69,15 @@
 				 const unsigned *querylens,
 				 int n_queries)
 {
+	int n;
+
 	struct rfc1035_udp_query_responses *resps =
 		rfc1035_udp_query_response_alloc_common(n_queries);

 	if (!resps)
 		return 0;

-	for (int n=0; n<n_queries; ++n)
+	for (n=0; n<n_queries; ++n)
 	{
 		resps->queries[n].query=queries[n];
 		resps->queries[n].querylen=querylens[n];
@@ -89,6 +91,8 @@
 rfc1035_udp_query_response_alloc_bis(struct querybuf *queries,
 				 int n_queries)
 {
+	int n;
+
 	struct rfc1035_udp_query_responses *resps =
 		rfc1035_udp_query_response_alloc_common(n_queries);

@@ -96,7 +100,7 @@
 		return 0;


-	for (int n=0; n<n_queries; ++n)
+	for (n=0; n<n_queries; ++n)
 	{
 		resps->queries[n].query=queries[n].qbuf;
 		resps->queries[n].querylen=queries[n].qbuflen;
